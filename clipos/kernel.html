




<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Kernel &mdash; CLIP OS 5.0.0_alpha1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/colors.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Secure Boot support" href="secure_boot.html" />
    <link rel="prev" title="Security objectives" href="security.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> CLIP OS
          

          
            
            <img src="../_static/clipos_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                5.0 (Alpha)
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">CLIP OS</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security objectives</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Kernel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#objectives">Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-setup">General setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#processor-type-and-features">Processor type and features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#power-management-and-acpi-options">Power management and ACPI options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#executable-file-formats-emulations">Executable file formats / Emulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#networking-support">Networking support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#device-drivers">Device Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#file-systems">File systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-hacking">Kernel hacking</a></li>
<li class="toctree-l3"><a class="reference internal" href="#security">Security</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#compilation">Compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sysctl-security-tuning">Sysctl Security Tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="#command-line-parameters">Command line parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="secure_boot.html">Secure Boot support</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
</ul>
<p class="caption"><span class="caption-text">Development environment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/setup.html">Environment setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/build.html">Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/source-tree.html">Source tree organization</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/contribute.html">How to contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/derive.html">How to derive this project</a></li>
</ul>
<p class="caption"><span class="caption-text">API &amp; Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/cosmk.html"><code class="docutils literal notranslate"><span class="pre">cosmk</span></code> Python API reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CLIP OS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Kernel</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/clipos/kernel.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="kernel">
<span id="id1"></span><h1>Kernel<a class="headerlink" href="#kernel" title="Permalink to this headline">¶</a></h1>
<p>The CLIP OS kernel is based on Linux. It also integrates:</p>
<ul class="simple">
<li>existing hardening patches that are not upstream yet and that we consider
relevant to our security model;</li>
<li>developments made for previous CLIP OS versions that we have not upstreamed
yet (or that cannot be);</li>
<li>entirely new functionalities that have not been upstreamed yet (or that
cannot be).</li>
</ul>
<div class="section" id="objectives">
<h2>Objectives<a class="headerlink" href="#objectives" title="Permalink to this headline">¶</a></h2>
<p>As the core of a hardened operating system, the CLIP OS kernel is particularly
responsible for:</p>
<ul class="simple">
<li>providing <strong>robust security mechanisms</strong> to higher levels of the operating
system, such as reliable isolation primitives;</li>
<li>maintaining maximal <strong>trust in hardware resources</strong>;</li>
<li>guaranteeing its <strong>own protection</strong> against various threats.</li>
</ul>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>In this section we discuss our security-relevant configuration choices for
the CLIP OS kernel. Before starting, it is worth mentioning that:</p>
<ul>
<li><p class="first">We do our best to <strong>limit the number of kernel modules</strong>.</p>
<p>In other words, as many modules as possible should be built-in. Modules are
only used when needed either for the initramfs or to ease the automation of
the deployment of CLIP OS on multiple different machines (for the moment, we
only target a QEMU-KVM guest). This is particularly important as module
loading will be disabled after CLIP OS startup.</p>
</li>
<li><p class="first">We <strong>focus on a secure configuration</strong>. The remaining of the configuration
is minimal and it is your job to tune it for your machines and use cases.</p>
</li>
<li><p class="first">CLIP OS only supports the x86-64 architecture for now.</p>
</li>
<li><p class="first">Running 32-bit programs is voluntarily unsupported. Should you change that
in your custom kernel, keep in mind that it requires further attention when
configuring it (e.g., ensure that <code class="docutils literal notranslate"><span class="pre">CONFIG_COMPAT_VDSO=n</span></code>).</p>
</li>
<li><p class="first">Many options that are not useful to us are disabled in order to cut attack
surface. As they are not all detailed below, please see
<code class="docutils literal notranslate"><span class="pre">src/portage/clip/sys-kernel/clipos-kernel/files/config.d/blacklist</span></code> for an
exhaustive list of the ones we <strong>explicitly</strong> disable.</p>
</li>
</ul>
<div class="section" id="general-setup">
<h3>General setup<a class="headerlink" href="#general-setup" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="descname">CONFIG_AUDIT=y</code></dt>
<dd><p>CLIP OS will need the auditing infrastructure.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_IKCONFIG=n</code></dt>
<dd><p>We do not need <code class="docutils literal notranslate"><span class="pre">.config</span></code> to be available at runtime.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_KALLSYMS=n</code></dt>
<dd><p>Symbols are only useful for debug and attack purposes.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_EXPERT=y</code></dt>
<dd><p>This unlocks additional configuration options we need.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_USER_NS=n</code></dt>
<dd><p>User namespaces can be useful for some use cases but even more to an
attacker. We choose to disable them for the moment, but we could also enable
them and use the <code class="docutils literal notranslate"><span class="pre">kernel.unprivileged_userns_clone</span></code> sysctl provided by
linux-hardened to disable their unprivileged use.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SLUB_DEBUG=y</code></dt>
<dd><p>Allow allocator validation checking to be enabled.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SLAB_MERGE_DEFAULT=n</code></dt>
<dd><p>Merging SLAB caches can make heap exploitation easier.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SLAB_FREELIST_RANDOM=y</code></dt>
<dd><p>Randomize allocator freelists</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SLAB_FREELIST_HARDENED=y</code></dt>
<dd><p>Harden slab metadata</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SLAB_HARDENED=y</code></dt>
<dd><p>Add various little checks to harden the slab allocator. <a class="reference internal" href="#linux-hardened" id="id2">[linux-hardened]</a></p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SLAB_CANARY=y</code></dt>
<dd><p>Place canaries at the end of slab allocations. <a class="reference internal" href="#linux-hardened" id="id3">[linux-hardened]</a></p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SLAB_SANITIZE=y</code></dt>
<dd><p>Zero-fill slab allocations on free to reduce risks of information leaks and
help mitigate use-after-free vulnerabilities. <a class="reference internal" href="#linux-hardened" id="id4">[linux-hardened]</a></p>
<dl class="describe">
<dt>
<code class="descname">CONFIG_SLAB_SANITIZE_VERIFY=y</code></dt>
<dd><p>Verify that newly allocated slab allocations are zeroed to detect
write-after-free bugs. <a class="reference internal" href="#linux-hardened" id="id5">[linux-hardened]</a></p>
</dd></dl>

</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_COMPAT_BRK=n</code></dt>
<dd><p>Enabling this would disable brk ASLR.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_GCC_PLUGINS=y</code></dt>
<dd><p>Enable GCC plugins, some of which are security-relevant; GCC 4.7 at least is
required.</p>
<dl class="describe">
<dt>
<code class="descname">CONFIG_GCC_PLUGIN_LATENT_ENTROPY=y</code></dt>
<dd><p>Instrument some kernel code to gather additional (but not
cryptographically secure) entropy at boot time.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_GCC_PLUGIN_STRUCTLEAK=y</code></dt>
<dd><p>Prevent potential information leakage by forcing initialization of
structures containing userspace addresses. This is particularly
important to prevent trivial bypassing of KASLR.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_GCC_PLUGIN_STRUCTLEAK_BYREF_ALL=y</code></dt>
<dd><p>Extend forced initialization to all local structures that have their
address taken at any point.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_GCC_PLUGIN_RANDSTRUCT=y</code></dt>
<dd><p>Randomize layout of sensitive kernel structures. Exploits targeting such
structures then require an additional information leak vulnerability.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_GCC_PLUGIN_RANDSTRUCT_PERFORMANCE=n</code></dt>
<dd><p>Do not weaken structure randomization</p>
</dd></dl>

</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_ARCH_MMAP_RND_BITS=32</code></dt>
<dd><p>Use maximum number of randomized bits for the mmap base address on x86_64.
Note that thanks to a linux-hardened patch, this also impacts the number of
randomized bits for the stack base address.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_STACKPROTECTOR=y</code></dt>
<dt>
<code class="descname">CONFIG_STACKPROTECTOR_STRONG=y</code></dt>
<dd><p>Use <code class="docutils literal notranslate"><span class="pre">-fstack-protector-strong</span></code> for best stack canary coverage; GCC 4.9 at
least is required.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_VMAP_STACK=y</code></dt>
<dd><p>Virtually-mapped stacks benefit from guard pages, thus making kernel stack
overflows harder to exploit.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_REFCOUNT_FULL=y</code></dt>
<dd><p>Do extensive checks on reference counting to prevent use-after-free
conditions. Without this option, on x86, there already is a fast
assembly-based protection based on the PaX implementation but it does not
cover all cases.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_STRICT_MODULE_RWX=y</code></dt>
<dd><p>Enforce strict memory mappings permissions for loadable kernel modules.</p>
</dd></dl>

<p>Although CLIP OS stores kernel modules in an initramfs located in a signed
EFI binary (together with the kernel itself and its command line), we still
enable and enforce module signing as an additional layer of security:</p>
<blockquote>
<div><dl class="describe">
<dt>
<code class="descname">CONFIG_MODULE_SIG=y</code></dt>
<dt>
<code class="descname">CONFIG_MODULE_SIG_FORCE=y</code></dt>
<dt>
<code class="descname">CONFIG_MODULE_SIG_ALL=y</code></dt>
<dt>
<code class="descname">CONFIG_MODULE_SIG_SHA512=y</code></dt>
<dt>
<code class="descname">CONFIG_MODULE_SIG_HASH=&quot;sha512&quot;</code></dt>
<dd></dd></dl>

</div></blockquote>
<dl class="describe">
<dt>
<code class="descname">CONFIG_LOCAL_INIT=n</code></dt>
<dd><p>This option requires compiler support for <code class="docutils literal notranslate"><span class="pre">-fsanitize=local-init</span></code>, which
is only available in Clang. <a class="reference internal" href="#linux-hardened" id="id6">[linux-hardened]</a></p>
</dd></dl>

</div>
<div class="section" id="processor-type-and-features">
<h3>Processor type and features<a class="headerlink" href="#processor-type-and-features" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="descname">CONFIG_RETPOLINE=y</code></dt>
<dd><p>Retpolines are needed to protect against Spectre v2. GCC 7.3.0 or higher is
required.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_LEGACY_VSYSCALL_NONE=y</code></dt>
<dd><p>The vsyscall table is not required anymore by libc and is a fixed-position
potential source of ROP gadgets.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_X86_VSYSCALL_EMULATION=n</code></dt>
<dd><p>See above.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_MICROCODE=y</code></dt>
<dd><p>Needed to benefit from microcode updates and thus security fixes (e.g.,
additional Intel pseudo-MSRs to be used by the kernel as a mitigation for
various speculative execution vulnerabilities).</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_X86_MSR=y</code></dt>
<dd><p>See above explanation about <code class="docutils literal notranslate"><span class="pre">CONFIG_MICROCODE</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_KSM=n</code></dt>
<dd><p>Enabling this feature can make cache side-channel attacks such as
FLUSH+RELOAD much easier to carry out.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_DEFAULT_MMAP_MIN_ADDR=65536</code></dt>
<dd><p>This should in particular be non-zero to prevent the exploitation of kernel
NULL pointer bugs.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_MTRR=y</code></dt>
<dd><p>Memory Type Range Registers can make speculative execution bugs a bit harder
to exploit.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_X86_PAT=y</code></dt>
<dd><p>Page Attribute Tables are the modern equivalents of MTRRs, which we
described above.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_ARCH_RANDOM=y</code></dt>
<dd><p>Enable the RDRAND instruction to benefit from a secure hardware RNG if
supported. See <code class="docutils literal notranslate"><span class="pre">CONFIG_RANDOM_TRUST_CPU</span></code> for warnings about that.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_X86_SMAP=y</code></dt>
<dd><p>Enable Supervisor Mode Access Prevention to prevent ret2usr exploitation
techniques.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_X86_INTEL_UMIP=y</code></dt>
<dd><p>Enable User Mode Instruction Prevention. Note that hardware supporting this
feature is not common yet.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_X86_INTEL_MPX=n</code></dt>
<dd><p>Intel Memory Protection Extensions add hardware assistance to memory
protection. Compiler support is required but is deprecated in GCC 8 and will
probably be dropped in GCC 9.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_X86_INTEL_MEMORY_PROTECTION_KEYS=n</code></dt>
<dd><p>Memory Protection Keys are a promising feature but they are still not
supported on current hardware.</p>
</dd></dl>

<p>Enable the <strong>seccomp</strong> BPF userspace API for syscall attack surface reduction:</p>
<blockquote>
<div><dl class="describe">
<dt>
<code class="descname">CONFIG_SECCOMP=y</code></dt>
<dt>
<code class="descname">CONFIG_SECCOMP_FILTER=y</code></dt>
<dd></dd></dl>

</div></blockquote>
<dl class="describe">
<dt>
<code class="descname">CONFIG_RANDOMIZE_BASE=y</code></dt>
<dd><p>While this may be seen as a <a class="reference external" href="https://grsecurity.net/kaslr_an_exercise_in_cargo_cult_security.php">controversial</a>
feature, it makes sense for CLIP OS. Indeed, KASLR may be defeated thanks to
the kernel interfaces that are available to an attacker, or through attacks
leveraging hardware vulnerabilities such as speculative and out-of-order
execution ones. However, CLIP OS follows the <em>defense in depth</em> principle
and an attack surface reduction approach. Thus, the following points make
KASLR relevant in the CLIP OS kernel:</p>
<ul class="simple">
<li>KASLR was initially designed to counter remote attacks but the strong
security model of CLIP OS (e.g., no sysfs mounts in most containers,
minimal procfs, no arbitrary code execution) makes a local attack
more complex to carry out.</li>
<li>STRUCTLEAK, STACKLEAK, kptr_restrict and
<code class="docutils literal notranslate"><span class="pre">CONFIG_SECURITY_DMESG_RESTRICT</span></code> are enabled in CLIP OS.</li>
<li>The CLIP OS kernel is custom-compiled (at least for a given deployment),
its image is unreadable to all users including privileged ones and updates
are end-to-end encrypted. This makes both the content and addresses of the
kernel image secret. Note that, however, the production kernel image is
currently part of an EFI binary and is not encrypted, causing it to be
accessible to a physical attacker. This will change in the future as we
will only use the kernel included in the EFI binary to boot and then
<em>kexec</em> to the real production kernel whose image will be located on an
encrypted disk partition.</li>
<li>We enable <code class="docutils literal notranslate"><span class="pre">CONFIG_PANIC_ON_OOPS</span></code> by default so that the kernel
cannot recover from failed exploit attempts, thus preventing any brute
forcing.</li>
<li>We enable Kernel Page Table Isolation, mitigating Meltdown and potential
other hardware information leakage. Variante 3a (Rogue System Register
Read) however remains an important threat to KASLR.</li>
</ul>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_RANDOMIZE_MEMORY=y</code></dt>
<dd><p>Most of the above explanations stand for that feature.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_KEXEC=n</code></dt>
<dt>
<code class="descname">CONFIG_KEXEC_FILE=n</code></dt>
<dd><p>Disable the <code class="docutils literal notranslate"><span class="pre">kexec()</span></code> system call to prevent an already-root attacker from
rebooting on an untrusted kernel.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_CRASH_DUMP=n</code></dt>
<dd><p>A crash dump can potentially provide an attacker with useful information.
However we disabled <code class="docutils literal notranslate"><span class="pre">kexec()</span></code> syscalls above thus this configuration
option should have no impact anyway.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_MODIFY_LDT_SYSCALL=n</code></dt>
<dd><p>This is not supposed to be needed by userspace applications and only
increases the kernel attack surface.</p>
</dd></dl>

</div>
<div class="section" id="power-management-and-acpi-options">
<h3>Power management and ACPI options<a class="headerlink" href="#power-management-and-acpi-options" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="descname">CONFIG_HIBERNATION=n</code></dt>
<dd><p>The CLIP OS swap partition is encrypted with an ephemeral key and thus
cannot support suspend to disk.</p>
</dd></dl>

</div>
<div class="section" id="executable-file-formats-emulations">
<h3>Executable file formats / Emulations<a class="headerlink" href="#executable-file-formats-emulations" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="descname">CONFIG_BINFMT_MISC=n</code></dt>
<dd><p>We do not want our kernel to support miscellaneous binary classes. ELF
binaries and interpreted scripts starting with a shebang are enough.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_COREDUMP=n</code></dt>
<dd><p>Core dumps can provide an attacker with useful information.</p>
</dd></dl>

</div>
<div class="section" id="networking-support">
<h3>Networking support<a class="headerlink" href="#networking-support" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="descname">CONFIG_SYN_COOKIES=y</code></dt>
<dd><p>Enable TCP syncookies.</p>
</dd></dl>

</div>
<div class="section" id="device-drivers">
<h3>Device Drivers<a class="headerlink" href="#device-drivers" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="descname">CONFIG_TCG_TPM=n</code></dt>
<dd><p>TPM use is not supported by CLIP OS yet.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_DEVMEM=n</code></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">/dev/mem</span></code> device should not be required by any user application
nowadays.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you must enable it, at least enable <code class="docutils literal notranslate"><span class="pre">CONFIG_STRICT_DEVMEM</span></code> and
<code class="docutils literal notranslate"><span class="pre">CONFIG_IO_STRICT_DEVMEM</span></code> to restrict at best access to this device.</p>
</div>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_DEVKMEM=n</code></dt>
<dd><p>This virtual device is only useful for debug purposes and is very dangerous
as it allows direct kernel memory writing (particularly useful for
rootkits).</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_LEGACY_PTYS=n</code></dt>
<dd><p>Use the modern PTY interface only.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_DEVPORT=n</code></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">/dev/port</span></code> device should not be used anymore by userspace, and it
could increase the kernel attack surface.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_RANDOM_TRUST_CPU=n</code></dt>
<dd><p>Do not rely exclusively on the hardware RNG provided by the CPU manufacturer
to initialize Linux’s CRNG, as we do not mind blocking a bit more at boot
time while additional entropy sources are mixed in.</p>
</dd></dl>

<p>The IOMMU allows for protecting the system’s main memory from arbitrary
accesses from devices (e.g., DMA attacks). Note that this is related to
hardware features. On a recent Intel machine, we enable the following:</p>
<blockquote>
<div><dl class="describe">
<dt>
<code class="descname">CONFIG_IOMMU_SUPPORT=y</code></dt>
<dt>
<code class="descname">CONFIG_INTEL_IOMMU=y</code></dt>
<dt>
<code class="descname">CONFIG_INTEL_IOMMU_SVM=y</code></dt>
<dt>
<code class="descname">CONFIG_INTEL_IOMMU_DEFAULT_ON=y</code></dt>
<dd></dd></dl>

</div></blockquote>
</div>
<div class="section" id="file-systems">
<h3>File systems<a class="headerlink" href="#file-systems" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="descname">CONFIG_PROC_KCORE=n</code></dt>
<dd><p>Enabling this would provide an attacker with precious information on the
running kernel.</p>
</dd></dl>

</div>
<div class="section" id="kernel-hacking">
<h3>Kernel hacking<a class="headerlink" href="#kernel-hacking" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="descname">CONFIG_MAGIC_SYSRQ=n</code></dt>
<dd><p>This should only be needed for debugging.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_DEBUG_KERNEL=y</code></dt>
<dd><p>This is useful even in a production kernel to enable further configuration
options that have security benefits.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_DEBUG_VIRTUAL=y</code></dt>
<dd><p>Enable sanity checks in virtual to page code.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_STRICT_KERNEL_RWX=y</code></dt>
<dd><p>Ensure kernel page tables have strict permissions.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_DEBUG_WX=y</code></dt>
<dd><p>Check and report any dangerous memory mapping permissions, i.e., both
writable and executable kernel pages.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_DEBUG_FS=n</code></dt>
<dd><p>The debugfs virtual file system is only useful for debugging and protecting
it would require additional work.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SLUB_DEBUG_ON=n</code></dt>
<dd><p>Using the <code class="docutils literal notranslate"><span class="pre">slub_debug</span></code> command line parameter provides more fine grained
control.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_PANIC_ON_OOPS=y</code></dt>
<dt>
<code class="descname">CONFIG_PANIC_TIMEOUT=-1</code></dt>
<dd><p>Prevent potential further exploitation of a bug by immediately panicking the
kernel.</p>
</dd></dl>

<p>The following options add additional checks and validation for various
commonly targeted kernel structures:</p>
<blockquote>
<div><dl class="describe">
<dt>
<code class="descname">CONFIG_DEBUG_CREDENTIALS=y</code></dt>
<dt>
<code class="descname">CONFIG_DEBUG_NOTIFIERS=y</code></dt>
<dt>
<code class="descname">CONFIG_DEBUG_LIST=y</code></dt>
<dt>
<code class="descname">CONFIG_DEBUG_SG=y</code></dt>
<dd></dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_BUG_ON_DATA_CORRUPTION=y</code></dt>
<dd><p>Note that linux-hardened patches add more places where this configuration
option has an impact.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SCHED_STACK_END_CHECK=y</code></dt>
<dd></dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_PAGE_POISONING=n</code></dt>
<dd><p>We choose to poison pages with zeroes and thus prefer using the simpler
PaX-based implementation provided by linux-hardened (see
<code class="docutils literal notranslate"><span class="pre">CONFIG_PAGE_SANITIZE</span></code> below).</p>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="security">
<h3>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h3>
<dl class="describe">
<dt>
<code class="descname">CONFIG_SECURITY_DMESG_RESTRICT=y</code></dt>
<dd><p>Prevent unprivileged users from gathering information from the kernel log
buffer via <code class="docutils literal notranslate"><span class="pre">dmesg(8)</span></code>. Note that this still can be overridden through the
<code class="docutils literal notranslate"><span class="pre">kernel.dmesg_restrict</span></code> sysctl.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_PAGE_TABLE_ISOLATION=y</code></dt>
<dd><p>Enable KPTI to prevent Meltdown attacks and, more generally, reduce the
number of hardware side channels.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_INTEL_TXT=n</code></dt>
<dd><p>CLIP OS does not use Intel Trusted Execution Technology.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_HARDENED_USERCOPY=y</code></dt>
<dd><p>Harden data copies between kernel and user spaces, preventing classes of
heap overflow exploits and information leaks.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_HARDENED_USERCOPY_FALLBACK=n</code></dt>
<dd><p>Use strict whitelisting mode, i.e., do not <code class="docutils literal notranslate"><span class="pre">WARN()</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_FORTIFY_SOURCE=y</code></dt>
<dd><p>Leverage compiler to detect buffer overflows.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_FORTIFY_SOURCE_STRICT_STRING=n</code></dt>
<dd><p>This extends <code class="docutils literal notranslate"><span class="pre">FORTIFY_SOURCE</span></code> to intra-object overflow checking. It is
useful to find bugs but not recommended for a production kernel yet.
<a class="reference internal" href="#linux-hardened" id="id7">[linux-hardened]</a></p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_STATIC_USERMODEHELPER=n</code></dt>
<dd><p>This feature requires userspace support that is not currently present in
CLIP OS.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SECURITY=y</code></dt>
<dd><p>Enable us to choose different security modules.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SECURITY_SELINUX=y</code></dt>
<dd><p>CLIP OS intends to leverage SELinux in its security model.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SECURITY_SELINUX_BOOTPARAM=n</code></dt>
<dd><p>We do not need SELinux to be disableable.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SECURITY_SELINUX_DISABLE=n</code></dt>
<dd><p>We do not want SELinux to be disabled. In addition, this would prevent LSM
structures such as security hooks from being marked as read-only.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SECURITY_SELINUX_DEVELOP=y</code></dt>
<dd><p>For now, but will eventually be <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">DEFAULT_SECURITY_DAC=y</code></dt>
<dd><p>The default security module will be changed to SELinux once CLIP OS fully
uses it.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SECURITY_YAMA=y</code></dt>
<dd><p>The Yama LSM currently provides ptrace scope restriction (which might be
redundant with CLIP-LSM in the future).</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_INTEGRITY=n</code></dt>
<dd><p>The integrity subsystem provides several components, the security benefits
of which are already enforced by CLIP OS (e.g., read-only mounts for all
parts of the system containing executable programs).</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SECURITY_PERF_EVENTS_RESTRICT=y</code></dt>
<dd><p>See documentation about the <code class="docutils literal notranslate"><span class="pre">kernel.perf_event_paranoid</span></code> sysctl below.
<a class="reference internal" href="#linux-hardened" id="id8">[linux-hardened]</a></p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_PAGE_SANITIZE=y</code></dt>
<dd><p>Zero-fill page allocations on free to reduce risks of information leaks and
help mitigate a subset of use-after-free vulnerabilities. This is a simpler
equivalent to upstream’s <code class="docutils literal notranslate"><span class="pre">CONFIG_PAGE_POISONING_ZERO</span></code>. <a class="reference internal" href="#linux-hardened" id="id9">[linux-hardened]</a></p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_PAGE_SANITIZE_VERIFY=y</code></dt>
<dd><p>Verify that newly allocated pages are zeroed to detect write-after-free
bugs. <a class="reference internal" href="#linux-hardened" id="id10">[linux-hardened]</a></p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">CONFIG_SECURITY_TIOCSTI_RESTRICT=y</code></dt>
<dd><p>This prevents unprivileged users from using the TIOCSTI ioctl to inject
commands into other processes which share a tty session. <a class="reference internal" href="#linux-hardened" id="id11">[linux-hardened]</a></p>
</dd></dl>

<p>We incorporated most of the <em>Lockdown</em> patch series into the CLIP OS kernel,
though it may be merged into the mainline kernel in the near future.
Basically, <em>Lockdown</em> tries to disable many mechanisms that could allow the
superuser to eventually run untrusted code in kernel mode (note that a
significant portion of them are already disabled in the CLIP OS kernel due to
our custom configuration). This is an interesting work for CLIP OS as we want
to avoid persistence on a compromised machine even in the case of an
already-root attacker. Among the several configuration options brought by
<em>Lockdown</em>, we enable the following ones:</p>
<blockquote>
<div><dl class="describe">
<dt>
<code class="descname">CONFIG_LOCK_DOWN_KERNEL=y</code></dt>
<dt>
<code class="descname">CONFIG_LOCK_DOWN_MANDATORY=y</code></dt>
<dd></dd></dl>

</div></blockquote>
<p>Similarly, we incorporated the <em>STACKLEAK</em> feature ported from grsecurity/PaX
by Alexander Popov and which should be merged upstream ultimately. <em>STACKLEAK</em>
erases the kernel stack before returning from system calls in order to reduce
the information which kernel stack leak bugs can reveal. It also blocks kernel
stack depth overflows caused by <code class="docutils literal notranslate"><span class="pre">alloca()</span></code>, such as Stack Clash attacks.</p>
<blockquote>
<div><dl class="describe">
<dt>
<code class="descname">CONFIG_GCC_PLUGIN_STACKLEAK=y</code></dt>
<dt>
<code class="descname">CONFIG_STACKLEAK_TRACK_MIN_SIZE=100</code></dt>
<dt>
<code class="descname">CONFIG_STACKLEAK_METRICS=n</code></dt>
<dt>
<code class="descname">CONFIG_STACKLEAK_RUNTIME_DISABLE=n</code></dt>
<dd></dd></dl>

</div></blockquote>
</div>
</div>
<div class="section" id="compilation">
<h2>Compilation<a class="headerlink" href="#compilation" title="Permalink to this headline">¶</a></h2>
<p>GCC version 7.3.0 or higher is required to fully benefit from retpolines
(<code class="docutils literal notranslate"><span class="pre">-mindirect-branch=thunk-extern</span></code>).</p>
</div>
<div class="section" id="sysctl-security-tuning">
<h2>Sysctl Security Tuning<a class="headerlink" href="#sysctl-security-tuning" title="Permalink to this headline">¶</a></h2>
<p>Many sysctls are not security-relevant or only play a role if some kernel
configuration options are enabled/disabled. In other words, the following is
tightly related to the CLIP OS kernel configuration detailed above.</p>
<dl class="describe">
<dt>
<code class="descname">kernel.kptr_restrict = 2</code></dt>
<dd><p>Hide kernel addresses in <code class="docutils literal notranslate"><span class="pre">/proc</span></code> and other interfaces, even to privileged
users.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">kernel.yama.ptrace_scope = 1</code></dt>
<dd><p>Enable the ptrace scope restriction provided by the Yama LSM.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">kernel.perf_event_paranoid = 3</code></dt>
<dd><p>This completely disallows unprivileged access to the <code class="docutils literal notranslate"><span class="pre">perf_event_open()</span></code>
system call. Note that this requires a patch included in linux-hardened (see
<a class="reference external" href="https://lwn.net/Articles/696216/">here</a> for the reason why it is not
upstream), otherwise it is the same as setting this sysctl to <code class="docutils literal notranslate"><span class="pre">2</span></code>. This is
actually not needed as we already enable
<code class="docutils literal notranslate"><span class="pre">CONFIG_SECURITY_PERF_EVENTS_RESTRICT</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">kernel.tiocsti_restrict = 1</code></dt>
<dd><p>This is already forced by the <code class="docutils literal notranslate"><span class="pre">CONFIG_SECURITY_TIOCSTI_RESTRICT</span></code> kernel
configuration option that we enable.</p>
</dd></dl>

<p>The following two sysctls help mitigating TOCTOU vulnerabilities by preventing
users from creating symbolic or hard links to files they do not own or have
read/write access to:</p>
<blockquote>
<div><dl class="describe">
<dt>
<code class="descname">fs.protected_symlinks = 1</code></dt>
<dt>
<code class="descname">fs.protected_hardlinks = 1</code></dt>
<dd></dd></dl>

</div></blockquote>
<p>In addition, the following other two sysctls impose restrictions on the
opening of FIFOs and regular files in order to make similar spoofing attacks
harder:</p>
<blockquote>
<div><dl class="describe">
<dt>
<code class="descname">fs.protected_fifos = 2</code></dt>
<dt>
<code class="descname">fs.protected_regular = 2</code></dt>
<dd></dd></dl>

</div></blockquote>
<p>We do not simply disable the BPF Just in Time compiler as CLIP OS plans on
using it:</p>
<blockquote>
<div><dl class="describe">
<dt>
<code class="descname">kernel.unprivileged_bpf_disabled = 1</code></dt>
<dd><p>Prevent unprivileged users from using BPF.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">net.core.bpf_jit_harden = 2</code></dt>
<dd><p>Trades off performance but helps mitigate JIT spraying.</p>
</dd></dl>

</div></blockquote>
<dl class="describe">
<dt>
<code class="descname">kernel.deny_new_usb = 0</code></dt>
<dd><p>The management of USB devices is handled at a higher level by CLIP OS.
<a class="reference internal" href="#linux-hardened" id="id12">[linux-hardened]</a></p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">kernel.device_sidechannel_restrict = 1</code></dt>
<dd><p>Restrict device timing side channels. <a class="reference internal" href="#linux-hardened" id="id13">[linux-hardened]</a></p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">fs.suid_dumpable = 0</code></dt>
<dd><p>Do not create core dumps of setuid executables.  Note that we already
disable all core dumps by setting <code class="docutils literal notranslate"><span class="pre">CONFIG_COREDUMP=n</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">kernel.pid_max = 65536</code></dt>
<dd><p>Increase the space for PID values.</p>
</dd></dl>

<p>For each hardware configuration, a predefined fixed list of modules for
hardware support will be loaded in the kernel at boot time. Once all modules
are loaded and the system is considered booted, module loading will be disabled
by setting <code class="docutils literal notranslate"><span class="pre">kernel.modules_disabled</span> <span class="pre">=</span> <span class="pre">1</span></code>.</p>
<p>Pure network sysctls (<code class="docutils literal notranslate"><span class="pre">net.ipv4.*</span></code> and <code class="docutils literal notranslate"><span class="pre">net.ipv6.*</span></code>) will be detailed in a
separate place.</p>
</div>
<div class="section" id="command-line-parameters">
<h2>Command line parameters<a class="headerlink" href="#command-line-parameters" title="Permalink to this headline">¶</a></h2>
<p>We pass the following command line parameters to the kernel:</p>
<dl class="describe">
<dt>
<code class="descname">extra_latent_entropy</code></dt>
<dd><p>This parameter provided by a linux-hardened patch (based on the PaX
implementation) enables a very simple form of latent entropy extracted
during system start-up and added to the entropy obtained with
<code class="docutils literal notranslate"><span class="pre">GCC_PLUGIN_LATENT_ENTROPY</span></code>.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">pti=on</code></dt>
<dd><p>This force-enables KPTI even on CPUs claiming to be safe from Meltdown.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">spectre_v2=on</code></dt>
<dd><p>Same reasoning as above but for the Spectre v2 vulnerability.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">spec_store_bypass_disable=seccomp</code></dt>
<dd><p>Same reasoning as above but for the Spectre v4 vulnerability. Note that this
mitigation requires updated microcode for Intel processors.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">iommu=force</code></dt>
<dd><p>Even if we correctly enable the IOMMU in the kernel configuration, the
kernel can still decide for various reasons to not initialize it at boot.
Therefore, we force it with this parameter.</p>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">slub_debug=F</code></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">F</span></code> option adds many sanity checks to various slab operations. Other
interesting options that we considered but eventually chose to not use are:</p>
<blockquote>
<div><ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">P</span></code> option, which enables poisoning on slab cache allocations,
disables the <code class="docutils literal notranslate"><span class="pre">SLAB_SANITIZE</span></code> and <code class="docutils literal notranslate"><span class="pre">SLAB_SANITIZE_VERIFY</span></code> features from
linux-hardened. As they respectively poison with zeroes on object freeing
and check the zeroing on object allocations, we prefer enabling them
instead of using <code class="docutils literal notranslate"><span class="pre">slub_debug=P</span></code>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">Z</span></code> option enables red zoning, i.e., it adds extra areas around
slab objects that detect when one is overwritten past its real size.
This can help detect overflows but we already rely on <code class="docutils literal notranslate"><span class="pre">SLAB_CANARY</span></code>
provided by linux-hardened. A canary is much better than a simple red
zone as it is supposed to be random.</li>
</ul>
</div></blockquote>
</dd></dl>

<p>Also, note that:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">slub_nomerge</span></code> is not used as we already set
<code class="docutils literal notranslate"><span class="pre">CONFIG_SLAB_MERGE_DEFAULT=n</span></code> in the kernel configuration.</li>
<li><code class="docutils literal notranslate"><span class="pre">page_poison</span></code> is not needed by the page poisoning implementation provided
by linux-hardened patches.</li>
<li><code class="docutils literal notranslate"><span class="pre">l1tf</span></code>: The built-in PTE Inversion mitigation is sufficient to mitigate
the L1TF vulnerability as long as CLIP OS is not used as an hypervisor with
untrusted guest VMs. If it were to be someday, <code class="docutils literal notranslate"><span class="pre">l1tf=full,force</span></code> should be
used to force-enable VMX unconditional cache flushes and force-disable SMT
(note that an Intel microcode update is not required for this mitigation to
work but improves performance by providing a way to invalidate caches with a
finer granularity).</li>
</ul>
<p class="rubric">Citations and origin of some items</p>
<table class="docutils citation" frame="void" id="linux-hardened" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[linux-hardened]</td><td><em>(<a class="fn-backref" href="#id2">1</a>, <a class="fn-backref" href="#id3">2</a>, <a class="fn-backref" href="#id4">3</a>, <a class="fn-backref" href="#id5">4</a>, <a class="fn-backref" href="#id6">5</a>, <a class="fn-backref" href="#id7">6</a>, <a class="fn-backref" href="#id8">7</a>, <a class="fn-backref" href="#id9">8</a>, <a class="fn-backref" href="#id10">9</a>, <a class="fn-backref" href="#id11">10</a>, <a class="fn-backref" href="#id12">11</a>, <a class="fn-backref" href="#id13">12</a>)</em> This item is provided by the <code class="docutils literal notranslate"><span class="pre">linux-hardened</span></code> patches.</td></tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="secure_boot.html" class="btn btn-neutral float-right" title="Secure Boot support" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="security.html" class="btn btn-neutral" title="Security objectives" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, ANSSI. CLIP OS is a trademark of the French Republic. For more details, see the &#34;How to derive this project&#34; section. The contents of this documentation is available under the Open License version 2.0 as published by Etalab (French task force for Open Data).

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'5.0.0_alpha1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>